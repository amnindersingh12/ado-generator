  <h1 class="text-center my-4">Check-Out for <%= @record.name %></h1>
  <%= form_with model: [@record, @attendance], url: create_check_out_record_attendance_path(@record), local: true, html: { class: 'card p-4 shadow-sm' } do |form| %>
    <div class="mb-3">
      <% if @attendance.purpose.blank? %>
        <%= form.label :purpose, 'Purpose', class: 'form-label' %>
      <%= form.text_area :purpose, class: 'form-control', rows: 3, required: true %>
      <% else %>
        <strong>Purpose:</strong>
        <%= @attendance.purpose %>
      <% end %>
    </div>
    <div class="mb-3">
      <%= form.label :out_photo, 'Capture Check-Out Photo', class: 'form-label' %>
      <div class="mb-2">
    <%= render partial: 'shared/webcam_capture', locals: { form: form, field: :out_photo } %>
      </div>
      <% if @attendance.errors[:out_photo].any? %>
        <div class="text-danger small">
          <%= @attendance.errors[:out_photo].join(', ') %>
        </div>
      <% end %>
    </div>
    <div class="d-flex justify-content-between">
      <%= form.submit 'Check Out', class: 'btn btn-success' %>
      <%= link_to 'Back', record_path(@record), class: 'btn btn-secondary' %>
    </div>
  <% end %>
